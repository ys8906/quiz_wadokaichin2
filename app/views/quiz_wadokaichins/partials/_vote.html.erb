<div class="vote">
  <% if @reactions.where(remote_ip: @remote_ip).present? %>
    <p>投票ありがとうございました！</p>
  <% else %>
    <%= form_with url: quiz_wadokaichin_reactions_path do |f| %>
      <%= f.hidden_field :quiz_id, value: @quiz.id %>
      <%= f.hidden_field :remote_ip, value: @remote_ip %>
      <% 5.times.each do |i| %>
        <label id="star-label-<%= i+1 %>" class="far fa-star">
          <input
            type="radio"
            name="rating"
            class="d-none"
            value="<%= i+1 %>"
            v-model="star"
            v-on:click="rate"
          >
        </label>
      <% end %>
      <%= f.submit "投票する"%>
    <% end %>
  <% end %>
  <p>平均：<%= @reactions.present? ? (@reactions.average(:rating)+3)/(@reactions.size+1) : 3.0 %></p>
</div>